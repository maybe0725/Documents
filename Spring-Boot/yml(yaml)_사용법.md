[**출처::기본기를 쌓는 정아마추어 코딩블로그**](https://jeong-pro.tistory.com/159)

Spring boot 설정 파일 yaml 사용법 (설정 파일을 읽어서 bean으로 필요할 때 사용하는 방법)
====================================================================================

Spring boot의 설정 파일 YAML을 사용하는 방법
-------------------------------------------

대부분의 애플리케이션에서 설정과 관련된 변수들은 보통 파일에다가 쓰고 읽어오는 방식으로 프로그래밍한다.

외부에 설정파일을 넣을 수도 있고 내부적으로 프로젝트에 넣을 수도 있다.

해당 파일들은 포맷(.properties, .ini 등)도 다양하다.

스프링 부트에서도 설정에 대한 내용을 다양한 파일에 적고 읽어와 사용하는데 그 중에서 가장 적합하고 스프링 부트에서 권장하는 형식인 yaml에 대해서 
간단히 설명하고 사용해본다.

왜 YAML 이어야 하는가?
---------------------

-> 사람이 보기 편하다!

**[YAML]**
`````````````````````````````````````````
environments:
    dev:
        url: http://dev.example.com
        name: Developer Setup
    prod:
        url: http://another.example.com
        name: My Cool App
`````````````````````````````````````````

**[Properties]**
`````````````````````````````````````````
environments.dev.url=http://dev.example.com
environments.dev.name=Developer Setup
environments.prod.url=http://another.example.com
environments.prod.name=My Cool App
`````````````````````````````````````````

똑같은 설정이지만 yaml을 사용할 경우 위와 같이 들여쓰기(띄어쓰기)로 구분하여 사람이 보기가 편하다. 곧 관리가 편리하다.

또한 아래와 같이 리스트로 표현하고자 할 때는 "-" (대쉬) 하나로 쓸 수 있다.

`````````````````````````
my:
servers:
    - dev.example.com
    - another.example.com
`````````````````````````

뿐만 아니라 **profile을 지정해서 환경에 따라 설정값을 다르게** 가져갈 수 있는 장점이 있고, 
하나의 파일에서 마치 **여러개의 설정파일을 쓰는 듯**하게 구분하여 사용할 수 있다. 
(아래처럼 "---"를 써서 구분)

```````````````````````````````````````
server:
    address: 192.168.1.100
---
spring:
    profiles: development
server:
    address: 127.0.0.1
---
spring:
    profiles: production & eu-central
server:
    address: 192.168.1.120
```````````````````````````````````````

여러모로 장점이 많아서 잘 쓰면 아주 유용하게 사용할 수 있다.

굳이 단점을 말하자면 문법(?)이 아주 약간 엄격한 것이 단점이다. 
예를들면 하위 계층을 표현할 때 tab들여쓰기가 아닌 공백문자를 써야한다든가, :(콜론) 다음에 공백 한칸이 있어야한다든가하는 문제가 있다.

이런 문제는 몇 번 삽질해보면 금방 깨닫게 되고 사용법을 아래에서 간단히 익히면 해결될 문제다.
